<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#">
  <head>
    <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<link rel="icon" type="image/x-icon" href="/favicon.ico">

<!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans"> -->
 <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="/style/academicons.css">
<link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer">

<link rel="stylesheet" href="/style/global.css">

<!-- Primary Meta Tags -->
<title>Rencontre de suivi avec Calcul Québec</title>
<meta name="title" content="Rencontre de suivi avec Calcul Québec">
<meta name="description" content="Compte-rendu de la rencontre avec Calcul Québec">
<meta name="viewport" content="width=device-width">

<!-- Open Graph / Facebook -->
<!--<meta property="og:url" content={permalink} /-->
<meta property="og:title" content="Rencontre de suivi avec Calcul Québec">
<meta property="og:description" content="Compte-rendu de la rencontre avec Calcul Québec">
<meta property="og:image" content="">
<meta property="og:type" content="website">
<meta property="article:author" content="Ouvroir">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<!--meta property="twitter:url" content={permalink} /-->
<meta property="twitter:title" content="Rencontre de suivi avec Calcul Québec">
<meta property="twitter:description" content="Compte-rendu de la rencontre avec Calcul Québec">
<meta property="twitter:image" content="">

<!-- Autre métadonnées dublincore ? -->


<!-- Fonts -->
<!-- this is where to add fonts-->
    <!-- change for Blog metadata component, type: blog-->
  <link rel="stylesheet" href="/assets/asset.b29078af.css"></link>
</head>
  <body>
     <div id="app">

        

<header class="container grid-xl navbar astro-E4GEYUTI">
  <section class="navbar-section astro-E4GEYUTI">
    <a href="/en/" class="navbar-brand mr-2 astro-E4GEYUTI"><span id="nav-logo" class="astro-E4GEYUTI">Ouvroir</span></a>
    <a class="nav-item astro-E4GEYUTI" href="/en/services/">Services</a>
    <a class="nav-item astro-E4GEYUTI" href="/en/projects/">Projects</a>
  </section>
  <section class="navbar-section astro-E4GEYUTI">
    <a class="nav-item astro-E4GEYUTI" href="/en/lab/"><i class="fa fa-info-circle astro-E4GEYUTI"></i></a>
    <a class="nav-item langChange astro-E4GEYUTI" href="/fr/blog/cr2022-03-03/">FR</a>
  </section>
</header>

        <main class="container grid-xl">
          <div class="container">
    <article class="content">
        <header class="hero bg-gray">
            <div class="hero-body">
                <p>Actualités de l'Ouvroir</p>
                <h1>Rencontre de suivi avec Calcul Québec</h1>
                <p>Compte-rendu de la rencontre avec Calcul Québec</p>
                <p>published on March 3rd, 2022 by ouvroir</p>
                <p><span class="chip">serveur</span><span class="chip">cr</span></p>
            </div>
        </header>
        <main>
            <h1 id="rencontre-de-suivi-avec-calcul-québec">Rencontre de suivi avec Calcul Québec</h1>
<p>Rencontre avec Félix-Antoine Fortin</p>
<p>Présentation des besoins et de la situation par Emmanueé</p>
<ul>
<li>disposer rapidement de ressources</li>
<li>éviter le travail supplémentaire (pas de staff / capcité)</li>
</ul>
<p>Allocation d’un instance</p>
<ul>
<li>ce qui est difficile à changer: dimensionnement du disque (stockage) racine de l’instance = 10To de volume de départ</li>
<li>migration</li>
<li>si on n’utilise pas la RAM et les cœurs → risque de se faire taper sur les doigts (plus de contingence et demande de redimensionner)</li>
<li>possibilité allouer plus de cœuers et de mémoire vive sans même arrêter la machine</li>
<li>sur béluga: accès par projet. Bien s’assurer que le contenu du projet du FCI a un disque distinct</li>
<li>pas de service de low balancing → 1 instance = 1 adresse IP</li>
</ul>
<p>Investir l’argent du FCI dans du service de personnel</p>
<ul>
<li>montant donne accès à un quota précis? ne veut pas dire que les ressources sont disponibles</li>
<li>si on veut commencer à créer des instances, il faut s’assurer que le service d’accès rapide va nous créer un instance dans le bon cloud (béluga et non arbutus)</li>
</ul>
<h2 id="fonctionnement">Fonctionnement</h2>
<p>Séparer les instances par besoin</p>
<ul>
<li>baseX</li>
<li>Cantaloupe</li>
</ul>
<p>Lancer une instance</p>
<ul>
<li>allocation des instances (p1-1gb, p1-2gb etc) peut être modifié</li>
<li>on peut choisir, à la création, de ne pas supprimer le volume après la terminaison de l’instance</li>
</ul>
<p>Stockage racine d’une instance qui est difficile à redimensionner. Mais assez d’espace disponible en accès rapide pour créer des volumes de départ importants.
Personne ne vous tappera sur les doigts si n’utilise pas le stockage. Plus de contingence sur la RAM et les cœurs.
Possible allouer plus de cœurs.</p>
<p>Demander créer l’instance avec un disque à part qui ne sera pas supprimer lorsque je vais tranférer l’instance.
Béluga.
Adresses IP publiques.
IP flottantes plus rares. Celles à partir desquelles pourra se connecter sur l’internet depuis une adresse. Si veut créer des sites publics, etc.
Si des instances différentes chaque service aura une adresse IP distincte. Pas de service de low balancing. Une instance = une adresse IP.</p>
<p>Pas un problème d’avoir un service.
Si veut séparer les choses en logique principal pb l’adresse IP publique.</p>
<p>Bien choisir : Supprimer le volume après la destruction de l’instance.
Si seulement un nom image pas de volume créé.
Si pas de nom d’image alors OK.</p>
<p>Après lors recréation dans la source au lieu d’utiliser une image, utilisera le volume.</p>
<h3 id="backups">Backups</h3>
<p>Pas de solution NAS pour le moment.
Ne sait pas où Calcul Québec va. Offre du backup sur Tape pour le HPC. Backup urgence car laborieux pour aller chercher les données.</p>
<p>En cas installation, etc. Dans l’interface de Open Stack, faire des snapshots. Un quota qu’il faudra discuter sur le nombre et la taille totale.</p>
<p>Si met de côté les erreurs humaines liées à l’opération de la VM. Les données ou l’installation sont stables et répliquées trois fois.</p>
<h3 id="vidéo-et-son">Vidéo et son</h3>
<p>Solution reste à trouver</p>
<p>Durée de la garantie matérielle: 3 ou 5 ans
Si on a besoin de plus long, il faut voir avec un dépôt institutionnel ou autre (même problème partout)</p>
<h3 id="automatisation">Automatisation</h3>
<p>Choix du système d’automatisation (puppet, ansible)?</p>
<p>Le plus communément utilisé dans le cloud de calculCanada et calculQuébec c’est Ansible. Donc ils ont l’expertise pour réviser et conseiller, accès à une communauté.</p>
<p>Si la configuration s’applique à une machine virtuelle à la fois, Ansible devrait amplement répondre à nos besoins et on peut retrouver des recettes pour le faire.
Eventuelle combinaison d’Ansible et DockerFile. À un moment donné, on devrait avoir accès à des cluster Kubernetes à la demande.</p>
<p>Conteneurs pour la reproductibilité des calculs scientifiques, Singularity (HPC)
Applicable à d’autres scénario?
Né dans un contexte d’utilisation de partage par plusieurs usagers
Exécuter des DockerFile dans Singularity.</p>
<p>Conteneurs: mécanisme de définition est séparé de l’engin pour l’exécuter.
Pas toujours biens vus car opaques et plus lourd pour venir aider un chercheur.</p>
<p>Enjeux lorsqu’il sera question d’ouvrir certains ports ou accès à certains services à l’externe. Groupe de sécurité dans OpenStack qui par défaut sont tous barrés.
Pour éviter de se faire tapper sur les doigts éviter certains ports à tout l’internet mais limiter à certaines institutions.
Comme pas de contrôle sur ce qui est installé, audit pour identifier vulnérabilité sur remote desktop.</p>
<h3 id="sécurité">Sécurité</h3>
<p>Les pays qui ont de grosses fermes de hackers connaissent l’existance de la plage d’adresses IP disponibles à Calcul Canada. Ne pas s’étonner de voir des tentatives d’introduction. Pare feu de Open Stack ok pour un accès limité à l’institution (mais pas internet au complet)</p>
<p>Peut installer un second pare-feux éventuellement car celui de OpenStack limité dans ses fonctionnalités. Possible de configurer un pare-feu par défaut pour chaque instance.</p>
<p>Bonne pratique avoir groupes définis par instance.
Travailler avec des reverse proxy</p>
<p>Principal souci:</p>
<ul>
<li>maintenir ses instances à jour</li>
<li>choix du système d’exploitation: ce avec qui on est plus à l’aise</li>
</ul>
<h3 id="prestataire">Prestataire</h3>
<p>Incertain à quel point les gens vont être familier avec OpenStack (mais c’est offert par OVH et un autre gros joueur)</p>
<p>Mise en place devrait aller. Principal défi sera de maintenir les choses sur le long terme. Plannifier l’opérationnalisation de ces choses là sur plusieurs années, que ne perdiez pas de données et avoir des gens intéressant à ces choses là. Si nombre usagers croits, réfléchir scaling.</p>
<p>Si arrive à faire la démonstraction que des choses qui déservent une communauté au niveau québécois (centaine, milliers d’utilisateur·rice·s), ne pas hésiter à revenir vers Calcul pour dire que nous plus capables de l’opérer à cette échelle puisque groupe de recherche, seriez-vous prêts à “reprendre le flambeau” / faire de la place pour offrir ce service directement?</p>
<h3 id="durabilité">Durabilité</h3>
<p>Négocier l’accès à l’infrastructure au-delà des 5 ans du labo?
Pratique habituelle d’utilisation du matériel beaucoup plus longtemps que les garanties matérielles</p>
<p>Jouer dans le cloud commercial dans les limites qui sont disponibles en tant que groupe de recherche → gros aspect gratuit, représentants commerciaux dédiés à la recherche qui peuvent allouer des crédits rapidement. Représentant Amazon EST Canada.</p>
<p>Recommande d’avoir un pied dans le cloud commercial parce que malgré toutes les bonnes intentions de CalculCanada, ils ne pourront jamais égaler l’offre du cloud commercial.</p>
<h3 id="intégration-et-déploiement-continu">Intégration et déploiement continu</h3>
<p>github workflows
openstack API (un peu lourd)</p>
<p>Sur nos instances: déployer des API ou des logiciels qui ont des APIs disponibles sur internet</p>
<h2 id="questions">Questions</h2>
<p>qui s’occupe du déploiement du cloud à calculQuébec: un sysadmin dédié + offre d’emploi actuelle à l’UdeM (sous Jean-François)
sinon, ça se passe au niveau national</p>
        </main>
    </article>
</div>

<!-- Pour montrer la nav du texte: https://picturepan2.github.io/spectre/components/nav.html -->
        </main>

        <footer class="container grid-xl astro-2VARMPMP" class="toast">
    
    <div id="tagline" class="astro-2VARMPMP">
        <p class="astro-2VARMPMP"><i class="astro-2VARMPMP">Ouvroir</i>. An inclusive and open-source space | 2022</p>
    </div>
    <div id="ext-links" class="astro-2VARMPMP">
        <a rel="noopener noreferrer nofollow" target="_blank" href="https://github.com/ouvroir" class="astro-2VARMPMP">Github</a>
        <a rel="noopener noreferrer nofollow" target="_blank" href="https://hypothes.is/groups/pM5dq7b4/ouvroir" class="astro-2VARMPMP">Hypothesis</a>
        <a rel="noopener noreferrer nofollow" target="_blank" href="https://twitter.com/labouvroir" class="astro-2VARMPMP">Twitter</a>
        <a rel="noopener noreferrer nofollow" target="_blank" href="https://www.zotero.org/groups/2480242/ouvroir" class="astro-2VARMPMP">Zotero</a>
    </div>
</footer>

<!--
├─ Footer
    ├─ tagline
    ├─ Liens et médias sociaux: Twitter, Github, Zotero, Hypothesis
    └─ RSS
-->




    </div>

  </body></html>
