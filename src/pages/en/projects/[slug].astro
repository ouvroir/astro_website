---
export async function getStaticPaths() {
  let projects = await Astro.glob('/src/_projets/*-en.md')
  projects = projects.filter(d => d.draft == false);

  return projects.map((projet) => {
        return {
            params: { 
              slug: projet.slug
            },
            props: {projet} };
    });
}

import ProjectLayout from '/src/layouts/ProjectLayout.astro';

const {projet} = Astro.props;
---
<ProjectLayout content={projet} slug={projet.slug} url={projet.link}>
  <Fragment set:html={projet.astro.html}/>
</ProjectLayout>
