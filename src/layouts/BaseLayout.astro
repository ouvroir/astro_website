---
import MetaData from '../components/MetaData.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import { getLanguageFromURL } from '../data/languages.ts'

const {title, description, permalink, slug} = Astro.props;

const currentPath = Astro.request.canonicalURL.pathname;
const lang = currentPath && getLanguageFromURL(currentPath);

---
<html lang={lang} prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#">
  <head>
    <MetaData title={title} description={description} permalink={permalink}/>
  </head>
  <body>
    <div id="app">
      <Header slug={slug}/>
      <main class="container grid-xl">
        <slot />
      </main>
      <Footer />
    </div>
  </body>
</html>
